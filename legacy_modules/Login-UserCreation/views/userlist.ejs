<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">

    <link rel="stylesheet" type="text/css" href="/styles.css"><!-- CSS -->
    <!-- Add this script tag to the head or body section of your HTML file -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/f3347210b3.js" crossorigin="anonymous"></script><!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
<style>
   
    .userlist {
        margin-left: 220px;
    }
    body{
        background-color: #EBEBEB;
    }
    .content{
        padding: 25px;

    }
    .section{
        background-color: #FFFFFF;
        border-radius: 5px;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        -ms-border-radius: 5px;
        -o-border-radius: 5px;
       
    }
    
    .header{
        padding: 8px 10px;

        
    }
    
    .input-width{
        width: 260px;
    }
    
    #userlist{
    height: 500px;
      overflow: scroll;
      
   
    }
    .space-between{
        justify-content: space-between;
    }
  
     td, tr{
        border-style: none!important;
        
    } 
    .input-btn {
        width: 100px;
    } 
    .input-btn-activate {
        width: 200px;
    }
    .tablecolumn{
        width:15%;
    }

   
   
    
 

</style>
</head>

<body>
    <div class="d-flex userlist">
    <%- include('navbar'); -%>

    <br>
    
    <div class="content d-flex flex-column space-between flex-grow-1" >
        <div class="section header mb-4">
            <h1><i class="fa-regular me-2 fa-solid fa-user"></i>Users</h1>
        </div>
        <form class="section header d-flex space-between mb-4" action="/register" method="get">
            <div class="d-flex">
                <div class="form-group">
                    <input type="text" class="form-control" id="searchUser" aria-describedby="emailHelp" placeholder="Search User">
                  </div>
            </div>
            <button type="submit" class="btn btn-success input-btn-add">Add User</button>
        </form>
     
            <div class="p-2 section ">
                <table class="table table-striped" id="userlist">
                    <thead>
                        <tr>
                            <th scope="col" >First Name</th>
                            <th scope="col" >Last Name</th>
                            <th scope="col" >Username</th>
                            <th scope="col" >Role</th>
                            <th scope="col" >Active</th>
                            <th scope="col" class="tablecolumn">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% results.forEach((result) => { %>
                            <tr>
                                <td><%=result.fname%></td>
                                <td><%=result.lname%></td>
                                <td><%=result.username%></td>
                                <td><%=result.role%></td>
                                <td><%if(result.is_disabled == 0){%> Yes <%}%> <%if(result.is_disabled == 1){%> No <%}%> </td>
                                <td> <%if(result.is_disabled == 0){%> <a href="edituser/<%=result.username%>" class="btn btn-primary input-btn">Edit </a>
                                    <a href="disableuser/<%=result.username%>"
                                        class="btn btn-danger input-btn">Disable</a> <%}%>
                                    <%if(result.is_disabled == 1){%> 
                                        <a href="activateuser/<%=result.username%>"
                                            class="btn btn-primary input-btn-activate">Activate</a> <%}%>
                                </td>
                            </tr>
                            <%})%>
   
                    </tbody>
                </table>
            </div>
        
    </div>
</div>

   
</body>

</html>
